<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Hello world!</title>
    <style type="text/css">
      [draggable="true"] {
        width: fit-content;
        color: black;
        /* background-color: rgb(0, 0, 0, 50%); */
        background-color: white;
        border-radius: 10px;
      }
      body {
        /* background-image: url("https://ttma1046.github.io/gallery/vscode.jpg"); */
        background-image: url("https://www.freecodecamp.org/news/content/images/2021/11/cp.png");
        background-size: fill;
        bottom: 0;
      }
    </style>
    <script>
      // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/drag_event
      document.addEventListener("DOMContentLoaded", (event) => {
        const dragElement = event.target.querySelector("main");

        let offsetX = 0;
        let offsetY = 0;

        dragElement.addEventListener("dragstart", (event) => {
          offsetX = event.clientX - dragElement.getBoundingClientRect().left;
          offsetY = event.clientY - dragElement.getBoundingClientRect().top;
          event.dataTransfer.effectAllowed = "move";
          dragElement.style.cursor = "grabbing";
          console.log("Drag started.");
        })

        document.addEventListener("dragover", (event) => {
          event.preventDefault();
          dragElement.style.cursor = "grabing";
          event.dataTransfer.dropEffect = "move";
          dragElement.style.left = `${event.clientX - offsetX}px`;
          dragElement.style.top = `${event.clientY - offsetY}px`;
          console.log("Dragging.")
          console.log(`X: ${event.clientX}, Y: ${event.clientY}`);
        })

        dragElement.addEventListener("dragend", (event) => {
          dragElement.style.cursor = "grab";
          dragElement.style.position = "absolute";
          dragElement.style.cursor = "grab"
          console.log("Drag ended.");
        });
      });
    </script>
  </head>
  <body>
    <main>
    <div draggable="true" style="cursor: grab;">
      <h1>Hello world!</h1>
      <p>Hello world...</p>
      <h2>Hello world:</h2>
      <ul>
        <li>Hello world!</li>
        <li>Hello world!</li>
        <li>Hello world!</li>
        <li>Hello world!</li>
      </ul>
    </div>
      <!-- <img src="https://ttma1046.github.io/gallery/vscode.jpg" alt="Hello world!" width="1000px"> -->
    </main>
  </body>
</html>
